<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Mobility Model: Obstacle Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mobility Model
   </div>
   <div id="projectbrief">Mobility model for a rescue team in a disaster scenario</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_obstacle-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Obstacle Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to define the behaviour of obstacles in the field. An obstacle is defined as a line segment given by two points (x1,y1) and (x2,y2). Several line segments can form a polygon or not, that's left to the user. An obstacle definition is given in a separated file (-o flag) as a list of floats delimited by commas. Like this: 1.0,2,3.1,4,5,6,7,8 That would define two line segments in (1.0;2.3), (3.1,4) and (5,6);(7,8). Any node would have to notice an obstacle as soon as it enters its line of sight, then ask itself if given its current movement, a collision might happen. If yes, calculate the shortest path to avoid collision. While avoiding an obstacle, both ff and dogs would leave their charachteristic movement, at least at first. After <em>cf47038600</em>, when an obstacle gets in the line of sight of a firefighter it will calculate the closest vertex of the obstacle and the it will head into a direction given by (closestVertexX +- 5; closestVertexY +-5) as long as that position lies inside the field. If there are no obstacles in the new calc position, the ff will head in that direction. It will then try to return to its original position and if not possible (because there is an obstacle in the way) it will continue until the way is clear. The dog interrupts its movement and tags along the ff.  
 <a href="class_obstacle.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="obstacle_8h_source.html">obstacle.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_obstacle_1_1line_point_parameters.html">linePointParameters</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure holds information useful to determine whether a line is in front of a point.  <a href="struct_obstacle_1_1line_point_parameters.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_obstacle_1_1vertex.html">vertex</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure defines a single vertex in (x,y)  <a href="struct_obstacle_1_1vertex.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_obstacle_1_1vertices.html">vertices</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The vertices structure defines a line segment from (x1,y1) to (x2,y2)  <a href="struct_obstacle_1_1vertices.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8f734072321fa06a7b7dae2d5f50f352"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f734072321fa06a7b7dae2d5f50f352"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_obstacle.html#a8f734072321fa06a7b7dae2d5f50f352">Obstacle</a> ()</td></tr>
<tr class="memdesc:a8f734072321fa06a7b7dae2d5f50f352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br/></td></tr>
<tr class="separator:a8f734072321fa06a7b7dae2d5f50f352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7470a10c25f5f95451c18bad13aae5d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_obstacle_1_1vertex.html">vertex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_obstacle.html#a7470a10c25f5f95451c18bad13aae5d1">getClosestVertex</a> (double a, double b)</td></tr>
<tr class="memdesc:a7470a10c25f5f95451c18bad13aae5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an obstacle's closest vertex to the point (a,b). It checks whether the path to avoid said vertex lies within 0 and FIELD_SIZE_X. If not it returns the other vertex. If both vertex are equal (x1,y1) == (x2,y2), throws a warning and returns either vertex.  <a href="#a7470a10c25f5f95451c18bad13aae5d1">More...</a><br/></td></tr>
<tr class="separator:a7470a10c25f5f95451c18bad13aae5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a640f5b6b5fc1716bfa14219661be1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_obstacle.html#ad5a640f5b6b5fc1716bfa14219661be1">setVertices</a> (double a, double b, double c, double d)</td></tr>
<tr class="memdesc:ad5a640f5b6b5fc1716bfa14219661be1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the vertiStruct structure and calculates the lengthOfLineSegment parameter.  <a href="#ad5a640f5b6b5fc1716bfa14219661be1">More...</a><br/></td></tr>
<tr class="separator:ad5a640f5b6b5fc1716bfa14219661be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c1c5f5130a7b20d04e003ed4e0476f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_obstacle_1_1line_point_parameters.html">linePointParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_obstacle.html#a50c1c5f5130a7b20d04e003ed4e0476f">getDistanceToPoint</a> (double px, double py)</td></tr>
<tr class="memdesc:a50c1c5f5130a7b20d04e003ed4e0476f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a structure with info about the position of a point relative to the obstacle. It takes a point (a node position) as a parameter, then it calculates where in the space said point is, relative to the position of the obstacle. Thus, it can be known whether the node will collide into the obstacle.  <a href="#a50c1c5f5130a7b20d04e003ed4e0476f">More...</a><br/></td></tr>
<tr class="separator:a50c1c5f5130a7b20d04e003ed4e0476f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6337e7879e0d938a664d342e849232"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_obstacle_1_1vertices.html">vertices</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_obstacle.html#a6a6337e7879e0d938a664d342e849232">getVertices</a> ()</td></tr>
<tr class="memdesc:a6a6337e7879e0d938a664d342e849232"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a structure with the vertices that conform the obstacle.  <a href="#a6a6337e7879e0d938a664d342e849232">More...</a><br/></td></tr>
<tr class="separator:a6a6337e7879e0d938a664d342e849232"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to define the behaviour of obstacles in the field. An obstacle is defined as a line segment given by two points (x1,y1) and (x2,y2). Several line segments can form a polygon or not, that's left to the user. An obstacle definition is given in a separated file (-o flag) as a list of floats delimited by commas. Like this: 1.0,2,3.1,4,5,6,7,8 That would define two line segments in (1.0;2.3), (3.1,4) and (5,6);(7,8). Any node would have to notice an obstacle as soon as it enters its line of sight, then ask itself if given its current movement, a collision might happen. If yes, calculate the shortest path to avoid collision. While avoiding an obstacle, both ff and dogs would leave their charachteristic movement, at least at first. After <em>cf47038600</em>, when an obstacle gets in the line of sight of a firefighter it will calculate the closest vertex of the obstacle and the it will head into a direction given by (closestVertexX +- 5; closestVertexY +-5) as long as that position lies inside the field. If there are no obstacles in the new calc position, the ff will head in that direction. It will then try to return to its original position and if not possible (because there is an obstacle in the way) it will continue until the way is clear. The dog interrupts its movement and tags along the ff. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7470a10c25f5f95451c18bad13aae5d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_obstacle_1_1vertex.html">Obstacle::vertex</a> Obstacle::getClosestVertex </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an obstacle's closest vertex to the point (a,b). It checks whether the path to avoid said vertex lies within 0 and FIELD_SIZE_X. If not it returns the other vertex. If both vertex are equal (x1,y1) == (x2,y2), throws a warning and returns either vertex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>x coordinate of the point we need to find the closest vertex to </td></tr>
    <tr><td class="paramname">b</td><td>y coordinate of the point we need to find the closest vertex to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_obstacle_1_1vertex.html" title="This structure defines a single vertex in (x,y) ">Obstacle::vertex</a> Closest vertex to (a,b) </dd></dl>

</div>
</div>
<a class="anchor" id="a50c1c5f5130a7b20d04e003ed4e0476f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_obstacle_1_1line_point_parameters.html">Obstacle::linePointParameters</a> Obstacle::getDistanceToPoint </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>px</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>py</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a structure with info about the position of a point relative to the obstacle. It takes a point (a node position) as a parameter, then it calculates where in the space said point is, relative to the position of the obstacle. Thus, it can be known whether the node will collide into the obstacle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">px</td><td>x coordinate of point </td></tr>
    <tr><td class="paramname">py</td><td>y coordinate of point </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_obstacle_1_1line_point_parameters.html" title="This structure holds information useful to determine whether a line is in front of a point...">Obstacle::linePointParameters</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6a6337e7879e0d938a664d342e849232"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_obstacle_1_1vertices.html">Obstacle::vertices</a> Obstacle::getVertices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a structure with the vertices that conform the obstacle. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_obstacle_1_1vertices.html" title="The vertices structure defines a line segment from (x1,y1) to (x2,y2) ">Obstacle::vertices</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad5a640f5b6b5fc1716bfa14219661be1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Obstacle::setVertices </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the vertiStruct structure and calculates the lengthOfLineSegment parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>x coordinate of 1st vertex </td></tr>
    <tr><td class="paramname">b</td><td>y coordinate of 1st vertex </td></tr>
    <tr><td class="paramname">c</td><td>x coordinate of 2nd vertex </td></tr>
    <tr><td class="paramname">d</td><td>y coordinate of 2nd vertex </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="obstacle_8h_source.html">obstacle.h</a></li>
<li><a class="el" href="obstacle_8cc.html">obstacle.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 17 2014 04:11:19 for Mobility Model by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
